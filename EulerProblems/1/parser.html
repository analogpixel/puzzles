<html>

	<head>
		<style>

		</style>
		<script src="p.js"></script>

		<script>
		// http://pegjs.org/online

		function calc() {
			var v = document.getElementById("input").value;
			var out = par.parse(v)[0].sort( function(a,b){return a-b});

			out = out + "\ntotal:" + out.reduce( function (a,b) { return a+b; });
			document.getElementById("output").textContent = out;

		}

		function multSet(a,b,c)  {
			s = [];
			x = 1;

			while (true) {
				var t = x * a;
				if (t >= b && t < c) { s.push( x*a );}
				if (t >c) { return s; }
				x++;
			}

		}

		Array.prototype.union = function(a)
		{
			var r = this.slice(0);
			a.forEach(function(i) { if (r.indexOf(i) < 0) r.push(i); });
			return r;
		};

		Array.prototype.insersect = function(a) {
			var r = [];
			this.slice(0).forEach( function(i) {  if ( a.indexOf(i) >= 0) r.push(i); });
			return r;
		}

		Array.prototype.diff = function(a)
		{
			return this.filter(function(i) {return a.indexOf(i) < 0;});
		};


		console.log( par.parse("M:3:0:10 U M:5:0:10")[0].reduce( function (a,b) { return a+b; }));

		</script>
	</head>

	<body>
		<textarea id="input" cols="80" rows="20"></textarea>
		<button onclick="calc()">calc</button>

		<pre id="output" ></pre>
	</body>
</html>
